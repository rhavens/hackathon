<!DOCTYPE html>

<html>
<head>
	<title>Tufts Course Comparator</title>
	<meta charset="UTF-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="../css/custom.css" type="text/css">
	<script>
		function LoadFile() {
    		var oFrame = document.getElementById("frmFile");
    		var strRawContents = oFrame.contentWindow.document.body.childNodes[0].innerHTML;
    		var data = JSON.parse(strRawContents);
    		console.log(data);
    		var courses = data.courses;
    		courses.sort(function(a, b) {
    			return b[1] - a[1];
    		});    		
    		for (var i = 0; i < courses.length; i++) {
    			$('#tb').append('<tbody><tr><td>'+(i+1)+'</td><td>'+courses[i][0].id+'</td><td>'+courses[i][0].title+'</td><td>'+courses[i][1]+'</td>');
    		}
			/*while (strRawContents.indexOf("\r") >= 0)
        		strRawContents = strRawContents.replace("\r", "");
    		var arrLines = strRawContents.split("\n");
    		alert("File " + oFrame.src + " has " + arrLines.length + " lines");
    		for (var i = 0; i < arrLines.length; i++) {
        		var curLine = arrLines[i];
        		alert("Line #" + (i + 1) + " is: '" + curLine + "'");
    		}*/
		}
	</script>
</head>

<body>
	<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand active" href="#">Tufts Course Comparator</a>
          <ul class="nav navbar-nav">
          	<li><a href="index.html">Home</a></li>
          	<li><a href="about.html">About</a></li>
          	<li><a href="rate.html">Add your opinion</a></li>
          	<li><a href="contact.html">Contact</a></li>
          </ul>
          </ul>
        </div>
      </div>
    </div>
    <div class="bgheader" style="background-image: url(../img/mainbg.jpg); scale: 2;"></div>
    <!-- Jumbotron -->
    <div class="jumbotron">
      <div class="container">
      	<br/><br/>
        <h1>The HARDEST courses.</h1>
        <p>Is COMP 40 really as difficult as they say? Let us know how you feel. View the overall rankings and submit your own opinions here at Tufts Course Comparator.</p>
        <p><a class="btn btn-primary btn-lg" role="button" href="#tb">Learn more &raquo;</a></p>
      </div>
    </div>
    <div class="container">
    <div class="row">
    	<div class="col-md-4">
    		<h3>Currently supported:</h3>
    		<ul>
    			<li>Computer Science</li>
    			<li>Art History</li>
    		</ul>
    	</div>
    	<div class="col-md-8">
    	<table class="table" id="tb">
    		<thead>
    			<tr>
    				<th>#</th>
    				<th>ID</th>
    				<th>Course Title</th>
    				<th>Difficuly</th>
    			</tr>
    		</thead>
    	</table>
    	</div>
    </div>
	</div>
    <iframe id="frmFile" src="../ahcourses.json" onload="LoadFile();" style="display: none;"></iframe>
</body>
</html>

